# Skyline ACE: Precise Controls 기능 구현 현황

## ✅ 구현 완료 기능 (Implemented)

### 1. 터치 인터페이스 및 UI 최적화
- [x] **조이스틱:** dynamic 모드 + CSS 가이드로 레이더 왼쪽 고정 표시, 상하좌우 정상 동작
- [x] **UI 레이아웃:** 레이더(130px,최대) > 조이스틱(86px) > 발사버튼(65px,네모) > 레버(트랙+핸들)
- [x] **터치 이벤트 격리:** 조작 요소별 독립적 터치 인식 보장 및 배경 터치 간섭 차단
- [x] **HUD 정비:** ALT/SPD, KILLS/GOAL, 타이머(분:초), 모바일 가독성 최적화
- [x] **스프링백 레버:** 올리면 가속, 내리면 감속, 놓으면 중앙 복귀 후 속도 유지

### 2. 조종 및 물리 엔진
- [x] **조이스틱 방향성:** 밀면 상승, 당기면 하강하는 직관적 아케이드 조작
- [x] **자동 이륙:** 시작시 풀스로틀 자동 이륙, 이륙시간 1/2 단축
- [x] **자동 수평 유지:** 조이스틱 미조작시 안정적인 기체 수평 복원
- [x] **자동 추적:** 조이스틱 미조작시 가장 가까운 적 유닛 자동 추적(slerp 0.02)
- [x] **속도 난이도 연동:** 난이도(1~5)에 따라 최대 속도 스케일링

### 3. 메인 유닛 모델
- [x] **JET (15파트):** 노즈콘, 원통동체, 콕핏캐노피, 델타윙(ExtrudeGeometry), 발광윙팁, 수직미익, 수평안정판, 쌍엔진나셀, 애프터버너배기, 동체스트라이프
- [x] **UFO (5파트):** 원반본체, 발광토러스림, 반투명돔, 하부콘, 엔진글로우
- [x] **애프터버너 이펙트:** 추력에 따라 배기 불꽃 크기 실시간 변화
- [x] **엔진 트레일:** 비행 중 파란 컨트레일 파티클 생성

### 4. 적군/아군 유닛 모델
- [x] **전투기형 모델:** 콘동체, 날개, 미익, 엔진글로우, 발광윙팁(적:빨강, 아군:초록)
- [x] **3가지 AI 행동패턴:** CHASER(직추적+루프백), FLANKER(측면선회), DIVER(급강하폭격)
- [x] **전투 기동:** 근접시 회피 롤, 고도 바닥 제한, 탄도 예측 사격
- [x] **난이도별 AI 강화:** 선회속도, 이동속도, 사격주기 난이도 연동

### 5. 전투 시스템
- [x] **수동 발사:** FIRE 버튼으로 사용자가 직접 발사 (자동조준은 탄도 보정만)
- [x] **자동발사 토글:** AUTO 버튼으로 자동발사 ON/OFF 전환 가능
- [x] **양쪽 날개 교차 발사:** 좌/우 날개에서 번갈아 발사 + 머즐 플래시
- [x] **타겟 레티클:** 적 유닛 화면 투영, 조준 시 회전 링 + 십자선 + 거리 표시
- [x] **락온 표시:** 명중 가능 각도(dot>0.96, 3000m 이내) 시 녹색 확대 "LOCK" 표시
- [x] **자동 조준 탄도:** 가장 가까운 적 방향 탄도 보정(난이도 낮을수록 강하게)
- [x] **적 총알 피격:** 피격시 HP 감소 + 카메라 흔들림 + 폭발 이펙트
- [x] **플레이어 HP:** 난이도별 체력 차등(Lv1: 8HP, Lv5: 4HP)

### 6. 폭발 및 이펙트
- [x] **5단계 폭발:** 코어플래시 → 화염코어 → 화염외곽 → 연기 → 스파크 + 파편
- [x] **머즐 플래시:** 발사시/적 사격시 순간 발광 이펙트
- [x] **카메라 흔들림:** 피격시 카메라 셰이크 (감쇠 0.9)
- [x] **파티클 관리:** 자동 업데이트/투명도 감소/수명 만료시 제거

### 7. 월드 시뮬레이션
- [x] **랜드마크:** 에펠탑, 자유의 여신상
- [x] **동적 환경:** 군함(15), 여객기(6)+비행운, 구름(40), 도시건물(4구역×20), 조류(8그룹)
- [x] **낮/밤 전환:** 시스템 시간 기반 배경, 조명, 안개 자동 변경

### 8. 게임 진행 시스템
- [x] **난이도 5단계:** 속도, 적 수(10×단계), AI 공격성, 자동조준 강도, HP 차등
- [x] **제한시간 5분:** 300초 카운트다운(분:초 표시), 시간 초과시 미션 실패
- [x] **기지 귀환 시스템:** 적 전멸시 기지 귀환 → 다음 레벨 출격/재도전/메인메뉴 선택
- [x] **연속 출격:** 게임오버 없이 다음 레벨로 바로 재출격 가능(sortie)
- [x] **점수 계산:** 킬 수 × 100 × 난이도 + 시간보너스
- [x] **난이도 추천:** 성적에 따라 다음 적정 난이도 추천
- [x] **일시정지:** P키 토글

### 9. 시작 화면
- [x] **유닛 선택:** JET / UFO
- [x] **난이도 선택:** 1~5단계 + 레벨별 상세 설명(kills, speed, aim, HP)
- [x] **키조작 가이드:** 조이스틱, 레버, 발사, 자동추적, 일시정지 설명

### 10. 사운드
- [x] **엔진 사운드:** 루프 재생, 추력에 따른 피치 변화
- [x] **레이저 사운드:** 발사시 재생
- [x] **폭발 사운드:** 적 격추 및 피격시 재생

### 11. 레이더
- [x] **실시간 레이더(130px):** 적(빨강), 아군(초록), 랜드마크(흰색) 표시
- [x] **탐지 범위:** 반경 10,000 유닛

---

## 🛠 향후 구현 필요 기능 (To-Be-Implemented)

### 1. 연출 고도화
- [ ] **오프닝 연출:** 항공모함 데크 엘리베이터 및 사출 시퀀스
- [ ] **3인칭 카메라 최적화:** 메인 유닛이 더 가까워 보이도록 카메라 거리 미세 조정
- [ ] **기지 귀환 연출:** 귀환 비행 애니메이션 및 착륙 시퀀스

### 2. 사운드 고도화
- [ ] **배경 음악:** 평상시/교전시 BGM 자동 전환 기능
- [ ] **회피/가속/감속 전용 사운드:** 상황별 효과음 분리
- [ ] **락온 사운드:** 타겟 락온시 경고음/확인음

### 3. 전투 확장
- [ ] **아군 AI 독립 전투:** 아군 유닛이 독자적으로 적과 교전
- [ ] **아군 자동 출격 비율:** 적군 5대당 아군 1대 비율로 자동 출격
- [ ] **메인 유닛-건물 충돌:** 랜드마크/빌딩과의 충돌 판정
- [ ] **미사일 무기:** 락온 후 유도 미사일 발사 옵션

### 4. 배경 확장
- [ ] **지구 구체 맵:** 구형 지구 지도로 한바퀴 돌면 제자리 복귀
- [ ] **해양 디테일:** 여객선, 화물선, 군함 구분 표현
- [ ] **대륙/지형:** 육지/바다 구분, 지역별 랜드마크 추가

### 5. 시스템 확장
- [ ] **기체 업그레이드:** 처치 점수를 통한 기체 스펙(속도, 연사력) 강화
- [ ] **로컬 랭킹:** 스테이지별 최고 점수 기록 저장(localStorage)
- [ ] **HP 바 표시:** 플레이어 HP를 HUD에 시각적으로 표시
